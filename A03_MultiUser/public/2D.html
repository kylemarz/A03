<!DOCTYPE html>
<html>
    <head>
        <title>2D POV - Cup Game dealer</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="css/layout.css">
    </head>

    <body>
        <!--this player hides the ball under one of the cups-->
        <h1 >Pick the cup to hide the object under</h1>

        <button id="one" style="background-color:rgb(255, 0, 0); color:rgb(255, 255, 255);position: absolute; left: 40%; transform: translateX(-50%);">1</button>
       
        <button id="two" style="background-color:rgb(255, 0, 0); color:rgb(255, 255, 255);position: absolute; left: 50%; transform: translateX(-50%);">2</button>
        
        <button id="three" style="background-color:rgb(255, 0, 0); color:rgb(255, 255, 255);position: absolute; left: 60%; transform: translateX(-50%);">3</button>

        <button id="resetButton" style="background-color:rgb(0, 0, 255); color:rgb(255, 255, 255);position: absolute; left: 80%; transform: translateX(-50%);">Reset Game</button>

    
                
        <script src="/socket.io/socket.io.js"></script>
        <script>
            let socket = io();

            socket.on('connect', (userData) => {
                console.log('I exist!');

                //put code here so that we know that socket.io has initailized ...
                document.querySelector('#one').addEventListener('click', function(){
                    
                    socket.emit('cup1');
                });

                document.querySelector('#two').addEventListener('click', function(){
                    
                    socket.emit('cup2');
                });

                document.querySelector('#three').addEventListener('click', function(){
                    socket.emit('cup3');
                });

                document.querySelector('#resetButton').addEventListener('click', function(){
                    socket.emit('resetGame');
                });

                //listen to event from server
                socket.on('resetGame', () => {
                
                    window.location.reload();
                
                });
            });

        </script>
    </body>
</html>
